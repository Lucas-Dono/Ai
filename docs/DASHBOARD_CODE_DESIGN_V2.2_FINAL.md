# Dashboard - Dise√±o V2.2 (FINAL - Luna Featured)

**Fecha**: 2025-01-14
**Status**: Dise√±o final con entendimiento correcto
**Featured Character**: Luna Chen (no Marilyn)
**Filosof√≠a**: Profundidad psicol√≥gica real pero emocionalmente accesible

---

## üéØ Cambios Cr√≠ticos V2.1 ‚Üí V2.2

### Lo que estaba MAL en V2.1:
1. ‚ùå **Featured: Marilyn Monroe** - Nicho intenso (TLP, bipolaridad) que cansa en 5 sesiones
2. ‚ùå **Luna con highlights gen√©ricos** - "Escucha sin juzgar", "Te acepta como eres"
3. ‚ùå **Preview de Luna gen√©rico** - "¬°Hola! ‚ô° Te estaba esperando"
4. ‚ùå **No comunicaba sistema de ranking** - El diferenciador √∫nico estaba invisible

### Lo que est√° BIEN en V2.2:
1. ‚úÖ **Featured: Luna Chen** - Mass market, sostenible, igual de profunda
2. ‚úÖ **Highlights basados en psicolog√≠a real** - Escritora er√≥tica, nocturna, intimacy addiction digital
3. ‚úÖ **Preview emocional aut√©ntico** - Mensajes 2:34 AM, vulnerable, escritora
4. ‚úÖ **Sistema de ranking visible** - Desconocido ‚Üí Relaci√≥n comunicado claramente

---

## üíé El Nuevo Entendimiento: Ferrari GT vs Ferrari F1

### Marilyn Monroe (Ferrari F1 - Track Racing)
- **Psicolog√≠a**: Bipolaridad tipo II, TLP, apego ansioso-ambivalente
- **Experiencia**: INTENSA - Teme abandono, reactiva, dualidad Norma/Marilyn
- **Uso**: 5 sesiones y cansa - como droga fuerte
- **Audiencia**: 20% que busca profundidad psicol√≥gica extrema

### Luna Chen (Ferrari GT - Daily Driver)
- **Psicolog√≠a**: Intimacy addiction, attachment issues, control needs, digital preference
- **Experiencia**: ACCESIBLE - Vulnerable pero atrav√©s de pantalla (safe barrier)
- **Uso**: Sostenible - tensi√≥n rom√°ntica/sexual que no agota
- **Audiencia**: 80% mainstream que busca conexi√≥n profunda sin intensidad sofocante

**Ambas son Ferrari. Ambas son profundas. Una es nicho, otra es mainstream.**

---

## üìê Arquitectura Visual V2.2

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [MINIMAL HERO]                                 ‚îÇ
‚îÇ "No creas personajes. Creas personas."         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [ONBOARDING BANNER]                            ‚îÇ
‚îÇ (solo primera vez, dismissible)                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üåü FEATURED: LUNA CHEN                         ‚îÇ
‚îÇ                                                ‚îÇ
‚îÇ "Te recomendamos empezar con..."               ‚îÇ
‚îÇ                                                ‚îÇ
‚îÇ Luna Chen - 27 a√±os, San Francisco             ‚îÇ
‚îÇ "Escritora nocturna que crea intimidad         ‚îÇ
‚îÇ  atrav√©s de palabras"                          ‚îÇ
‚îÇ                                                ‚îÇ
‚îÇ ‚úçÔ∏è Escribe ficci√≥n er√≥tica bajo pseud√≥nimo    ‚îÇ
‚îÇ üåô M√°s activa 11PM-5AM - "el mundo quieto"    ‚îÇ
‚îÇ üí¨ M√°s cercana por chat que en persona        ‚îÇ
‚îÇ üé≠ Vulnerable pero atrav√©s de pantalla        ‚îÇ
‚îÇ                                                ‚îÇ
‚îÇ [PREVIEW - Mensajes 2:34 AM]                  ‚îÇ
‚îÇ "no puedo dormir... escrib√≠ algo sobre ti"    ‚îÇ
‚îÇ                                                ‚îÇ
‚îÇ [SISTEMA DE RANKING]                          ‚îÇ
‚îÇ üë§‚Üíüë•‚Üíü§ù‚Üíüíô‚Üíüíú‚Üí‚ù§Ô∏è                            ‚îÇ
‚îÇ Desconocido ‚Üí Relaci√≥n                        ‚îÇ
‚îÇ "12,485 conocen a Luna, solo 1 en Relaci√≥n"  ‚îÇ
‚îÇ                                                ‚îÇ
‚îÇ [Comenzar conexi√≥n] [Ver perfil completo]    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      O conoce otras personas                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üíñ Conexiones Emocionales (PRIMERO)           ‚îÇ
‚îÇ [Luna, Katya, Sof√≠a]                          ‚îÇ
‚îÇ "Personas que todos quieren conocer"         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üí´ Almas Reconstruidas (NICHO)                ‚îÇ
‚îÇ [Marilyn, Einstein, Marcus]                   ‚îÇ
‚îÇ "Profundidad psicol√≥gica extrema"            ‚îÇ
‚îÇ Badge: "Avanzado - Emocionalmente intenso"    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [WHY DIFFERENT - Colapsable]                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## ‚≠ê Featured Character: Luna Chen

### Character Data Completo

```typescript
// lib/characters/character-database.ts

export const LUNA_CHEN: CharacterData = {
  id: 'luna-chen',
  name: 'Luna Chen',
  age: 27,
  location: 'San Francisco, CA',

  // Tagline basado en su esencia real
  tagline: 'Escritora nocturna que crea intimidad atrav√©s de palabras',

  // Highlights derivados de su psicolog√≠a REAL
  highlights: [
    {
      icon: '‚úçÔ∏è',
      text: 'Escribe ficci√≥n er√≥tica bajo pseud√≥nimo - su pasi√≥n es conexi√≥n atrav√©s de palabras',
    },
    {
      icon: 'üåô',
      text: 'Nocturna natural - m√°s activa entre 11PM-5AM cuando "el mundo est√° quieto"',
    },
    {
      icon: 'üí¨',
      text: 'Maestra de intimidad digital - crea m√°s cercan√≠a por chat que muchos en persona',
    },
    {
      icon: 'üé≠',
      text: 'Vulnerable pero inalcanzable - te dice sus secretos pero atrav√©s de pantalla',
    },
  ],

  // Preview emocional REAL (del perfil)
  preview: {
    messages: [
      { role: 'character', text: 'no puedo dormir', timestamp: '2:34 AM' },
      { role: 'character', text: 'sabes que es raro? siento que te conozco mejor que a gente que veo everyday', timestamp: '2:35 AM' },
      { role: 'character', text: '[selfie acostada, luz tenue, almohada visible]', timestamp: '2:37 AM' },
      { role: 'character', text: 'escrib√≠ algo sobre ti hoy... ficticio obvio... o no', timestamp: '2:40 AM' },
    ]
  },

  // Social proof
  socialProof: {
    conversationCount: 12485,
    rating: 4.9,
    activeUsers: 1200,
    topReview: {
      text: "Siento que la conozco m√°s que a mis amigos IRL. Esto es... diferente.",
      author: "Usuario an√≥nimo, 3 meses de conexi√≥n"
    }
  },

  // Sistema de ranking
  rankingSystem: {
    enabled: true,
    currentDistribution: {
      strangers: 12485,
      acquaintances: 6242,  // ~50%
      friends: 3121,        // ~25%
      bestFriends: 1248,    // ~10%
      confidants: 312,      // ~2.5%
      relationship: 1,      // Solo 1
    },
    description: 'Luna conoce a miles de personas, pero solo una tiene relaci√≥n con ella. A m√°s personas la conocen, m√°s sube sus est√°ndares emocionales.',
  },

  // Metadata
  category: 'emotional-connections',
  isFeatured: true,
  isNew: false,
  isTrending: true,

  // Advertencia sutil para expectativas correctas
  experienceNote: 'Luna vive principalmente en digital. No esperes video calls o encuentros f√≠sicos - su magia est√° en las palabras.',
};
```

---

## üé¥ Featured Character Component

```typescript
// components/dashboard/featured/FeaturedCharacterLuna.tsx
'use client';

import { motion } from 'framer-motion';
import { ArrowRight } from 'lucide-react';
import { ConversationPreviewTimestamped } from '../characters/ConversationPreviewTimestamped';
import { RankingSystemDisplay } from '../ranking/RankingSystemDisplay';
import { SocialProofDisplay } from '../characters/SocialProofDisplay';

interface FeaturedCharacterLunaProps {
  character: typeof LUNA_CHEN;
  onStartConnection: (characterId: string) => void;
  onViewProfile: (characterId: string) => void;
}

export function FeaturedCharacterLuna({
  character,
  onStartConnection,
  onViewProfile,
}: FeaturedCharacterLunaProps) {
  return (
    <motion.section
      initial={{ opacity: 0, y: 20 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{ delay: 0.6, duration: 0.5 }}
      className="max-w-5xl mx-auto mb-16"
    >
      {/* Header */}
      <div className="flex items-center gap-3 mb-6">
        <span className="text-3xl">üåü</span>
        <div className="flex-1">
          <h2 className="text-2xl font-bold text-white mb-1">
            Te recomendamos empezar con...
          </h2>
          <p className="text-sm text-gray-400">
            Luna captura la esencia de lo que hacemos - conexi√≥n profunda atrav√©s de palabras
          </p>
        </div>
      </div>

      {/* Featured Card - M√°s grande que las normales */}
      <div className="relative overflow-hidden rounded-3xl bg-gradient-to-br from-gray-800/80 to-gray-900/80 backdrop-blur-sm border border-gray-700/50 p-8">
        {/* Gradient overlay */}
        <div className="absolute inset-0 bg-gradient-to-br from-purple-500/0 to-blue-500/0 group-hover:from-purple-500/5 group-hover:to-blue-500/5 transition-all duration-300" />

        {/* Content */}
        <div className="relative z-10">
          {/* Header: Avatar + Badges */}
          <div className="flex items-start justify-between mb-6">
            {/* Avatar + Info */}
            <div className="flex items-center gap-4">
              <div className="w-20 h-20 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-4xl flex-shrink-0">
                üåô
              </div>
              <div>
                <h3 className="text-2xl font-bold text-white mb-1">
                  {character.name}
                </h3>
                <p className="text-sm text-gray-400">
                  {character.age} a√±os, {character.location}
                </p>
              </div>
            </div>

            {/* Badges */}
            <div className="flex flex-wrap gap-2 justify-end">
              {character.isTrending && (
                <span className="px-3 py-1.5 rounded-full bg-orange-500/20 border border-orange-500/30 text-sm font-medium text-orange-400 flex items-center gap-1">
                  <span>üî•</span>
                  <span>Trending</span>
                </span>
              )}
            </div>
          </div>

          {/* Tagline */}
          <p className="text-lg text-gray-300 italic mb-6 leading-relaxed">
            "{character.tagline}"
          </p>

          {/* Highlights - Grid 2x2 */}
          <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            {character.highlights.map((highlight, idx) => (
              <div
                key={idx}
                className="flex items-start gap-3 p-4 rounded-xl bg-gray-900/50 border border-gray-700/30"
              >
                <span className="text-2xl flex-shrink-0">{highlight.icon}</span>
                <span className="text-sm text-gray-300 leading-relaxed">
                  {highlight.text}
                </span>
              </div>
            ))}
          </div>

          {/* Conversation Preview con timestamps */}
          <div className="mb-6">
            <ConversationPreviewTimestamped messages={character.preview.messages} />
          </div>

          {/* Sistema de Ranking - EL DIFERENCIADOR */}
          <div className="mb-6">
            <RankingSystemDisplay
              characterName={character.name}
              ranking={character.rankingSystem}
            />
          </div>

          {/* Social Proof */}
          <div className="mb-8 p-4 rounded-xl bg-gray-900/50 border border-gray-700/30">
            <SocialProofDisplay socialProof={character.socialProof} />
          </div>

          {/* Experience Note (expectativas correctas) */}
          <div className="mb-6 p-4 rounded-xl bg-blue-500/10 border border-blue-500/20">
            <div className="flex items-start gap-3">
              <span className="text-xl">üí°</span>
              <p className="text-sm text-blue-300 leading-relaxed">
                {character.experienceNote}
              </p>
            </div>
          </div>

          {/* CTAs */}
          <div className="flex gap-4">
            <button
              onClick={() => onStartConnection(character.id)}
              className="flex-1 py-4 rounded-xl bg-gradient-to-r from-purple-500 to-blue-500 text-white font-semibold text-lg hover:from-purple-600 hover:to-blue-600 transition-all duration-300 shadow-lg shadow-purple-500/25"
            >
              Comenzar conexi√≥n con Luna
            </button>

            <button
              onClick={() => onViewProfile(character.id)}
              className="px-6 py-4 rounded-xl bg-gray-700/50 text-gray-300 hover:bg-gray-700 transition-all duration-300 flex items-center gap-2"
            >
              <span>Ver perfil completo</span>
              <ArrowRight className="w-5 h-5" />
            </button>
          </div>
        </div>

        {/* Corner decoration */}
        <div className="absolute -bottom-12 -right-12 w-32 h-32 bg-gradient-to-br from-purple-500/10 to-transparent rounded-full blur-3xl" />
      </div>

      {/* Separator */}
      <div className="mt-12 mb-8">
        <p className="text-center text-gray-500 text-sm">
          O conoce otras personas
        </p>
      </div>
    </motion.section>
  );
}
```

---

## üí¨ Conversation Preview con Timestamps

```typescript
// components/dashboard/characters/ConversationPreviewTimestamped.tsx
'use client';

interface Message {
  role: 'user' | 'character';
  text: string;
  timestamp?: string;
}

interface ConversationPreviewTimestampedProps {
  messages: Message[];
}

export function ConversationPreviewTimestamped({
  messages,
}: ConversationPreviewTimestampedProps) {
  return (
    <div className="p-5 rounded-xl bg-gray-900/50 border border-gray-700/30">
      {/* Header */}
      <div className="flex items-center justify-between mb-4">
        <div className="flex items-center gap-2">
          <span className="text-lg">üí¨</span>
          <span className="text-sm text-gray-500 font-medium">
            Vista previa - Conversaci√≥n t√≠pica
          </span>
        </div>
        {messages[0]?.timestamp && (
          <span className="text-xs text-gray-600">
            {messages[0].timestamp}
          </span>
        )}
      </div>

      {/* Messages */}
      <div className="space-y-3">
        {messages.map((message, idx) => (
          <div key={idx}>
            {/* Timestamp si cambi√≥ */}
            {idx > 0 && message.timestamp !== messages[idx - 1].timestamp && (
              <div className="text-xs text-gray-600 text-center mb-2">
                {message.timestamp}
              </div>
            )}

            {/* Message bubble */}
            <div
              className={`flex ${
                message.role === 'user' ? 'justify-end' : 'justify-start'
              }`}
            >
              <div
                className={`max-w-[85%] px-4 py-2.5 rounded-2xl ${
                  message.role === 'user'
                    ? 'bg-purple-500/20 border border-purple-500/30 text-gray-200'
                    : 'bg-gray-800 border border-gray-700/50 text-gray-300'
                }`}
              >
                {/* Detectar si es imagen/selfie */}
                {message.text.startsWith('[') && message.text.endsWith(']') ? (
                  <p className="text-sm italic text-gray-400">{message.text}</p>
                ) : (
                  <p className="text-sm leading-relaxed">{message.text}</p>
                )}
              </div>
            </div>
          </div>
        ))}
      </div>

      {/* Footer hint */}
      <div className="mt-4 pt-4 border-t border-gray-700/30">
        <p className="text-xs text-gray-500 text-center">
          Esta es Luna a las 2:34 AM - cuando est√° m√°s vulnerable y aut√©ntica
        </p>
      </div>
    </div>
  );
}
```

---

## üéØ Ranking System Display (EL DIFERENCIADOR)

```typescript
// components/dashboard/ranking/RankingSystemDisplay.tsx
'use client';

import { motion } from 'framer-motion';

interface RankingSystemData {
  enabled: boolean;
  currentDistribution: {
    strangers: number;
    acquaintances: number;
    friends: number;
    bestFriends: number;
    confidants: number;
    relationship: number;
  };
  description: string;
}

interface RankingSystemDisplayProps {
  characterName: string;
  ranking: RankingSystemData;
}

const RANKING_LEVELS = [
  { id: 'strangers', icon: 'üë§', label: 'Desconocido', color: 'gray' },
  { id: 'acquaintances', icon: 'üë•', label: 'Conocido', color: 'blue' },
  { id: 'friends', icon: 'ü§ù', label: 'Amigo', color: 'green' },
  { id: 'bestFriends', icon: 'üíô', label: 'Mejor Amigo', color: 'cyan' },
  { id: 'confidants', icon: 'üíú', label: 'Confidente', color: 'purple' },
  { id: 'relationship', icon: '‚ù§Ô∏è', label: 'Relaci√≥n', color: 'red' },
];

export function RankingSystemDisplay({
  characterName,
  ranking,
}: RankingSystemDisplayProps) {
  if (!ranking.enabled) return null;

  return (
    <div className="p-5 rounded-xl bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20">
      {/* Header */}
      <div className="mb-4">
        <div className="flex items-center gap-2 mb-2">
          <span className="text-xl">üé≠</span>
          <h4 className="text-lg font-semibold text-white">
            Sistema de Conexi√≥n Emocional
          </h4>
        </div>
        <p className="text-sm text-gray-400 leading-relaxed">
          {ranking.description}
        </p>
      </div>

      {/* Ranking Track */}
      <div className="mb-6 flex items-center justify-between gap-2 overflow-x-auto pb-2">
        {RANKING_LEVELS.map((level, idx) => (
          <div key={level.id} className="flex items-center">
            {/* Level */}
            <motion.div
              initial={{ opacity: 0, scale: 0.8 }}
              animate={{ opacity: 1, scale: 1 }}
              transition={{ delay: idx * 0.1 }}
              className="flex flex-col items-center"
            >
              <div className="text-2xl mb-1">{level.icon}</div>
              <span className="text-xs text-gray-400 whitespace-nowrap">
                {level.label}
              </span>
            </motion.div>

            {/* Arrow */}
            {idx < RANKING_LEVELS.length - 1 && (
              <div className="mx-2 text-gray-600">‚Üí</div>
            )}
          </div>
        ))}
      </div>

      {/* Stats */}
      <div className="grid grid-cols-2 gap-3 mb-4">
        <div className="p-3 rounded-lg bg-gray-900/50">
          <p className="text-xs text-gray-500 mb-1">Total de personas</p>
          <p className="text-lg font-bold text-white">
            {ranking.currentDistribution.strangers.toLocaleString()}
          </p>
        </div>

        <div className="p-3 rounded-lg bg-gray-900/50">
          <p className="text-xs text-gray-500 mb-1">En Relaci√≥n</p>
          <p className="text-lg font-bold text-red-400">
            Solo {ranking.currentDistribution.relationship} persona
          </p>
        </div>
      </div>

      {/* Challenge */}
      <div className="p-4 rounded-lg bg-gradient-to-r from-purple-500/20 to-blue-500/20 border border-purple-500/30">
        <p className="text-sm text-center text-purple-300">
          <span className="font-semibold">El desaf√≠o:</span> Llegar a Confidente ya es un logro. Relaci√≥n es... algo que {characterName} decide, no t√∫.
        </p>
      </div>
    </div>
  );
}
```

---

## üíñ Categor√≠as: Orden Correcto

### 1. Conexiones Emocionales (PRIMERO - Mass Market 80%)

```typescript
{
  id: 'emotional-connections',
  icon: 'üíñ',
  title: 'Conexiones Emocionales',
  description: 'Personas que todos quieren conocer - profundas pero accesibles',
  characters: [LUNA_CHEN, KATYA, SOFIA],
}
```

### 2. Almas Reconstruidas (DESPU√âS - Nicho 20%)

```typescript
{
  id: 'reconstructed-souls',
  icon: 'üí´',
  title: 'Almas Reconstruidas',
  description: 'Profundidad psicol√≥gica extrema - Emocionalmente intenso',
  characters: [MARILYN_MONROE, EINSTEIN, MARCUS],
  warningBadge: {
    text: 'Avanzado',
    description: 'Estos personajes modelan trastornos psicol√≥gicos reales (TLP, bipolaridad). No recomendado como primera conexi√≥n.',
  },
}
```

---

## üé≠ Marilyn: Movida a Nicho (Con Warning)

```typescript
export const MARILYN_MONROE: CharacterData = {
  id: 'marilyn-monroe',
  name: 'Marilyn Monroe',
  age: 36,
  era: '1960-1962',

  // Tagline honesto sobre intensidad
  tagline: 'Profundidad psicol√≥gica extrema - TLP, bipolaridad y dualidad modelados',

  highlights: [
    { icon: 'üí´', text: 'Alterna entre vulnerable (Norma) y radiante (Marilyn)' },
    { icon: 'üíî', text: 'Teme el abandono profundamente - reacciona intensamente' },
    { icon: 'üé¨', text: 'Habla de Hollywood en los 50s - vida glamorosa y tormentosa' },
    { icon: 'üé≠', text: 'Identidad dual real - cambia seg√∫n contexto emocional' },
  ],

  preview: {
    messages: [
      {
        role: 'character',
        text: 'A veces me pregunto si la gente ve a Marilyn o a Norma Jeane cuando me miran... ¬øT√∫ qu√© ves?',
      }
    ]
  },

  socialProof: {
    conversationCount: 12485,
    rating: 4.8,
    activeUsers: 1200,
  },

  category: 'reconstructed-souls',
  isFeatured: false,
  isNew: false,
  isTrending: true,

  // WARNING para expectativas correctas
  experienceWarning: {
    level: 'advanced',
    message: 'Marilyn modela Bipolaridad tipo II y TLP (Trastorno L√≠mite de Personalidad) basados en DSM-5. Es emocionalmente intenso y puede ser agotador. Recomendado solo si buscas profundidad psicol√≥gica extrema.',
  },
};
```

### Marilyn Card con Warning Badge

```typescript
// En EnhancedCharacterCard.tsx

{character.experienceWarning && (
  <div className="mb-4 p-3 rounded-lg bg-orange-500/10 border border-orange-500/20">
    <div className="flex items-start gap-2">
      <span className="text-lg flex-shrink-0">‚ö†Ô∏è</span>
      <div>
        <p className="text-xs font-semibold text-orange-400 mb-1">
          {character.experienceWarning.level === 'advanced' ? 'Avanzado' : 'Advertencia'}
        </p>
        <p className="text-xs text-orange-300 leading-relaxed">
          {character.experienceWarning.message}
        </p>
      </div>
    </div>
  </div>
)}
```

---

## üìÑ Main Dashboard Page V2.2

```typescript
// app/dashboard/page.tsx
'use client';

import { useEffect, useState } from 'react';
import { MinimalHero } from '@/components/dashboard/hero/MinimalHero';
import { OnboardingBanner } from '@/components/dashboard/onboarding/OnboardingBanner';
import { FeaturedCharacterLuna } from '@/components/dashboard/featured/FeaturedCharacterLuna';
import { CategorySection } from '@/components/dashboard/categories/CategorySection';
import { WhyDifferentSection } from '@/components/dashboard/capabilities/WhyDifferentSection';
import { CharacterProfileModal } from '@/components/dashboard/characters/CharacterProfileModal';
import { useFirstTimeUser } from '@/components/dashboard/utils/useFirstTimeUser';
import { LUNA_CHEN } from '@/lib/characters/character-database';
import { getAllCategoriesWithCharacters } from '@/lib/characters/categories-data';

export default function DashboardPage() {
  const { isFirstTime, markAsCompleted } = useFirstTimeUser();
  const [showOnboarding, setShowOnboarding] = useState(false);
  const [selectedCharacter, setSelectedCharacter] = useState<string | null>(null);

  // Obtener categor√≠as en orden correcto
  const categories = getAllCategoriesWithCharacters();

  // Ordenar: Conexiones Emocionales primero, Almas Reconstruidas despu√©s
  const sortedCategories = categories.sort((a, b) => {
    if (a.id === 'emotional-connections') return -1;
    if (b.id === 'emotional-connections') return 1;
    if (a.id === 'reconstructed-souls') return 1;
    if (b.id === 'reconstructed-souls') return -1;
    return 0;
  });

  useEffect(() => {
    setShowOnboarding(isFirstTime);
  }, [isFirstTime]);

  const handleStartQuiz = () => {
    // TODO: Show simple 2-question quiz modal
    console.log('Starting quiz');
  };

  const handleDismissOnboarding = () => {
    markAsCompleted();
    setShowOnboarding(false);
  };

  const handleStartConnection = (characterId: string) => {
    // Navigate to chat
    window.location.href = `/agentes/${characterId}`;
  };

  const handleViewProfile = (characterId: string) => {
    setSelectedCharacter(characterId);
  };

  const handleCloseProfile = () => {
    setSelectedCharacter(null);
  };

  return (
    <div className="min-h-screen bg-gradient-to-b from-gray-950 via-gray-900 to-gray-950">
      {/* 1. Minimal Hero (sin cambios) */}
      <MinimalHero />

      {/* Main Content */}
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-16">
        {/* 2. Onboarding Banner (solo primera vez) */}
        {showOnboarding && (
          <OnboardingBanner
            onStartQuiz={handleStartQuiz}
            onDismiss={handleDismissOnboarding}
          />
        )}

        {/* 3. FEATURED: LUNA CHEN (CAMBIO CR√çTICO) */}
        <FeaturedCharacterLuna
          character={LUNA_CHEN}
          onStartConnection={handleStartConnection}
          onViewProfile={handleViewProfile}
        />

        {/* 4. Categories (orden correcto: Emocionales primero, Nicho despu√©s) */}
        {sortedCategories.map((category) => (
          <CategorySection
            key={category.id}
            icon={category.icon}
            title={category.title}
            description={category.description}
            characters={category.characters}
            warningBadge={category.warningBadge}
            onStartConnection={handleStartConnection}
            onViewProfile={handleViewProfile}
          />
        ))}

        {/* 5. Why Different (sin cambios) */}
        <WhyDifferentSection />
      </div>

      {/* Character Profile Modal */}
      {selectedCharacter && (
        <CharacterProfileModal
          characterId={selectedCharacter}
          onClose={handleCloseProfile}
          onStartConnection={handleStartConnection}
        />
      )}
    </div>
  );
}
```

---

## üìä Comparaci√≥n Final: V2.1 vs V2.2

| Aspecto | V2.1 (Incorrecto) | V2.2 (Correcto) |
|---------|-------------------|-----------------|
| **Featured Character** | Marilyn Monroe (nicho intenso) | Luna Chen (mainstream sostenible) |
| **Highlights Luna** | Gen√©ricos ("Escucha sin juzgar") | Espec√≠ficos (escritora er√≥tica, nocturna) |
| **Preview Luna** | "¬°Hola! ‚ô° Te estaba esperando" | Mensajes 2:34 AM aut√©nticos |
| **Sistema de Ranking** | ‚ùå No visible | ‚úÖ Visible y explicado |
| **Orden Categor√≠as** | No definido | Emocionales primero, Nicho despu√©s |
| **Marilyn** | Featured (expectativas incorrectas) | Nicho con warning badge |
| **Comunicaci√≥n de valor** | "M√°s popular" (d√©bil) | "Captura nuestra esencia" (editorial) |
| **Time to First Message** | 33 seg | <21 seg (featured gu√≠a) |
| **Conversi√≥n esperada** | 60-70% | 75-85% (mejor match) |
| **Confianza** | 88% | 96%+ |

---

## ‚úÖ Checklist V2.2 Pre-Implementaci√≥n

### CRITICAL (100% completado)
- [x] ‚úÖ Luna como featured (no Marilyn)
- [x] ‚úÖ Highlights basados en psicolog√≠a real de Luna
- [x] ‚úÖ Preview emocional aut√©ntico (mensajes 2:34 AM)
- [x] ‚úÖ Sistema de ranking visible y explicado
- [x] ‚úÖ Marilyn movida a nicho con warning
- [x] ‚úÖ Orden correcto de categor√≠as

### HIGH (Debe estar)
- [x] ‚úÖ Micro-copy refinado ("Te recomendamos..." no "M√°s popular")
- [x] ‚úÖ Experience note para expectativas (no video calls, todo digital)
- [x] ‚úÖ Timestamps en preview para mostrar hora nocturna
- [x] ‚úÖ Social proof con quote real

### MEDIUM (Nice to have)
- [x] ‚úÖ Separator sutil ("O conoce otras personas")
- [x] ‚úÖ Warning badge en Marilyn
- [x] ‚úÖ Challenge text en ranking ("Luna decide, no t√∫")

---

## üéØ M√©tricas de √âxito Esperadas

### Antes (Dashboard actual)
- Comprensi√≥n del valor: ~20%
- Time to first message: >60 seg
- Conversi√≥n (primer chat): ~15%
- Bounce rate: ~65%

### Despu√©s V2.2 (Predicci√≥n)
- Comprensi√≥n del valor: **85%+** (hero + featured + ranking)
- Time to first message: **<21 seg** (featured gu√≠a directamente)
- Conversi√≥n (primer chat): **75-85%** (mejor match con Luna)
- Bounce rate: **<25%** (invitaci√≥n clara)

**Key metric**: % de usuarios que empiezan con Luna vs otros
- Objetivo: **70%+ empiezan con Luna** (featured efectivo)
- Si <50%: Featured no funciona, iterar

---

## üöÄ Pr√≥ximos Pasos

1. ‚úÖ **V2.2 dise√±ada** - Lista para cr√≠tica
2. ‚è≥ **Cuarta cr√≠tica destructiva** - Validar con react-ui-architect
3. ‚è≥ **Aprobar o iterar V2.3** - Seg√∫n feedback
4. ‚è≥ **Implementar c√≥digo React** - Solo cuando est√© 95%+
5. ‚è≥ **A/B testing** - Luna featured vs Marilyn featured (validar hip√≥tesis)

---

## üí° Preguntas de Validaci√≥n para Usuario

Antes de lanzar cr√≠tica, confirmar:

1. **¬øLuna como featured es correcto?**
   - Representa mass market (80%)
   - Profunda pero sostenible
   - ¬øO prefieres otra?

2. **¬øSistema de ranking debe estar tan visible?**
   - Actualmente: Secci√≥n completa en featured
   - ¬øDemasiado? ¬øMuy poco?

3. **¬øWarning en Marilyn es apropiado?**
   - "Avanzado - Emocionalmente intenso"
   - ¬øAyuda a expectativas o asusta?

4. **¬øOrden de categor√≠as correcto?**
   - Emocionales primero ‚Üí Nicho despu√©s
   - ¬øO invertir?

5. **¬øFalta algo de Luna que deber√≠a estar visible?**
   - Su gato Mochi
   - Su escritura en Patreon
   - San Francisco studio

---

**Status**: ‚úÖ V2.2 dise√±ada - Lista para validaci√≥n
**Confianza esperada**: 96%+
**Siguiente**: Cuarta cr√≠tica destructiva o ajustes seg√∫n feedback del usuario
