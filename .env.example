# Database
DATABASE_URL="postgresql://user:password@localhost:5432/creador_inteligencias"

# Google AI (Gemini)
# Obtén tu API key en: https://aistudio.google.com/app/apikey
GOOGLE_AI_API_KEY="your_google_ai_api_key_here"

# NextAuth
NEXTAUTH_SECRET="your_secret_here"
NEXTAUTH_URL="http://localhost:3000"

# Google OAuth (opcional)
GOOGLE_CLIENT_ID="your_google_client_id"
GOOGLE_CLIENT_SECRET="your_google_client_secret"

# Mercado Pago (para pagos y suscripciones - LATAM)
MERCADOPAGO_ACCESS_TOKEN="APP_USR-your_access_token_here"
MERCADOPAGO_PUBLIC_KEY="APP_USR-your_public_key_here"
MERCADOPAGO_PLUS_PLAN_ID="your_plus_preapproval_plan_id"
MERCADOPAGO_ULTRA_PLAN_ID="your_ultra_preapproval_plan_id"
MERCADOPAGO_WEBHOOK_SECRET="your_webhook_secret_here"

# ═══════════════════════════════════════════════════════════════════
# PADDLE (para pagos globales - Merchant of Record)
# ═══════════════════════════════════════════════════════════════════
# Sistema de pagos global sin necesidad de LLC USA
# ✅ CONFIRMADO: Soporta Argentina como vendedor con retiros directos
# Fees: 8-10% + procesamiento (incluidos en el precio)
# Documentación: https://developer.paddle.com/
# Panel: https://vendors.paddle.com/

# Configuración de Paddle
PADDLE_API_KEY="your_api_key_here"  # Obtén en: https://vendors.paddle.com/authentication
PADDLE_WEBHOOK_SECRET="your_webhook_secret_here"  # Para verificar webhooks (Settings → Webhooks)

# IDs de Precios (obtén en el dashboard de Paddle → Catalog → Prices)
PADDLE_PLUS_MONTHLY_PRICE_ID="pri_your_plus_monthly_price_id"
PADDLE_PLUS_YEARLY_PRICE_ID="pri_your_plus_yearly_price_id"
PADDLE_ULTRA_MONTHLY_PRICE_ID="pri_your_ultra_monthly_price_id"
PADDLE_ULTRA_YEARLY_PRICE_ID="pri_your_ultra_yearly_price_id"

# ═══════════════════════════════════════════════════════════════════
# STRIPE - DEPRECADO (No funciona en Argentina sin LLC USA)
# ═══════════════════════════════════════════════════════════════════
# Stripe requiere LLC en USA para aceptar pagos desde Argentina
# Costo: ~$2,500 USD/año (formación + agente + contador)
# NO RECOMENDADO: Usar Lemon Squeezy en su lugar
#
# Si aún así quieres usar Stripe (con LLC USA):
# STRIPE_SECRET_KEY="sk_test_your_secret_key_here"
# STRIPE_PUBLISHABLE_KEY="pk_test_your_publishable_key_here"
# STRIPE_WEBHOOK_SECRET="whsec_your_webhook_secret_here"

# Upstash Redis (RECOMENDADO para rate limiting y caché)
# Crea una cuenta gratuita en: https://upstash.com/
# Free tier: 10,000 comandos/día, 256MB storage
# Usado para: rate limiting, caché de mundos predefinidos (TTL 1h), estado de mundos activos
UPSTASH_REDIS_REST_URL=""
UPSTASH_REDIS_REST_TOKEN=""

# Server Features
ENABLE_WEBSOCKETS="true"  # Habilita WebSocket support (recomendado)
ENABLE_CRON_JOBS="true"   # Habilita cron jobs para gestión de mundos (recomendado)

# Cron Jobs (para auto-pause de mundos y otras tareas programadas)
# Genera uno nuevo con: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CRON_SECRET="d09697ebe3fb59e1968befd2d5a265acd560f4e6a0fed2e620bb6b87cf8f0aff"  # Token secreto para proteger endpoints de cron

# URL de la aplicación (para cron jobs que llaman a endpoints HTTP)
# En desarrollo: http://localhost:3000
# En producción: https://tudominio.com
APP_URL="http://localhost:3000"

# AI Horde (Stable Diffusion gratuito)
AI_HORDE_API_KEY="0000000000"  # Usar "0000000000" para anónimo o tu API key de https://stablehorde.net/register

# ═══════════════════════════════════════════════════════════════════
# MULTIMEDIA LIMITS CONFIGURATION (Feature Flags)
# ═══════════════════════════════════════════════════════════════════
# Controla límites de generación multimedia para usuarios FREE
# Útil para lanzamiento (bloquear) y luego fase de crecimiento (habilitar trial)

# ESTRATEGIA DE LANZAMIENTO (Fase 1: Validación sin costos multimedia)
# Bloquea multimedia en FREE hasta tener ingresos estables
# FREE_MULTIMEDIA_STRATEGY="BLOCKED"

# ESTRATEGIA DE CRECIMIENTO (Fase 2: Freemium con trial)
# Habilita trial limitado para mejorar conversión
# FREE_MULTIMEDIA_STRATEGY="TRIAL_LIFETIME"

FREE_MULTIMEDIA_STRATEGY="BLOCKED"  # Opciones: "BLOCKED" | "TRIAL_LIFETIME" | "TRIAL_TIME"

# Solo aplica si FREE_MULTIMEDIA_STRATEGY="TRIAL_LIFETIME"
FREE_IMAGE_GENERATION_LIFETIME="3"    # Total de imágenes gratis (no renovable)
FREE_VOICE_MESSAGES_LIFETIME="5"      # Total de mensajes de voz gratis (no renovable)

# Solo aplica si FREE_MULTIMEDIA_STRATEGY="TRIAL_TIME"
FREE_MULTIMEDIA_TRIAL_DAYS="30"       # Días de trial con multimedia ilimitada

# Google AdSense (para ads en web)
NEXT_PUBLIC_ADSENSE_CLIENT_ID="ca-pub-XXXXXXXXXXXXXXXX"  # Tu publisher ID de AdSense

# HuggingFace Vision (Image Captioning - GRATIS)
# Tier gratuito: 30,000 requests/mes por key
# Puedes agregar múltiples keys para rotar (HUGGINGFACE_API_KEY_1, HUGGINGFACE_API_KEY_2, etc.)
# Obtén tu key en: https://huggingface.co/settings/tokens
HUGGINGFACE_API_KEY="hf_your_api_key_here"
# HUGGINGFACE_API_KEY_1="hf_key_1"  # Opcional: Key adicional para rotación
# HUGGINGFACE_API_KEY_2="hf_key_2"  # Opcional: Key adicional para rotación
# HUGGINGFACE_API_KEY_3="hf_key_3"  # Opcional: Key adicional para rotación

# ═══════════════════════════════════════════════════════════════════
# EMAIL SYSTEM - DonWeb (Soporta SMTP y API)
# ═══════════════════════════════════════════════════════════════════
# Sistema dual de emails transaccionales para suscripciones y notificaciones
#
# ┌─────────────────────────────────────────────────────────────────┐
# │ RECOMENDACIÓN: Usar SMTP al inicio (11.5x más barato)          │
# │ Escalar a API solo cuando superes 2,000 emails/día             │
# └─────────────────────────────────────────────────────────────────┘
#
# COMPARACIÓN:
# ├─ SMTP (Mail Profesional)
# │  ├─ Costo: $20 USD/año (~$24,000 ARS)
# │  ├─ Límite: 2,400 emails/día (100/hora)
# │  └─ Suficiente para: ~30,000 usuarios activos
# │
# └─ API (EnvíaloSimple Transaccional)
#    ├─ Costo: $228 USD/año (~$274,000 ARS)
#    ├─ Límite: 24,000 emails/día (1000/hora)
#    └─ Para cuando: Superes 2,000 emails/día

# ═══════════════════════════════════════════════════════════════════
# CONFIGURACIÓN PRINCIPAL
# ═══════════════════════════════════════════════════════════════════

# Proveedor de Email: "smtp" (recomendado) o "api"
EMAIL_PROVIDER="smtp"

# Email remitente (mismo para ambos proveedores)
ENVIALOSIMPLE_FROM_EMAIL="noreply@creador-ia.com"  # Email verificado en tu dominio
ENVIALOSIMPLE_FROM_NAME="Circuit Prompt AI"

# ═══════════════════════════════════════════════════════════════════
# OPCIÓN 1: SMTP - DonWeb Mail Profesional (RECOMENDADO PARA EMPEZAR)
# ═══════════════════════════════════════════════════════════════════
# Configuración para EMAIL_PROVIDER="smtp"
# Obtener en: DonWeb → Mail Profesional → Configurar cuenta

SMTP_HOST="smtp.envialosimple.email"  # Host SMTP de DonWeb
SMTP_PORT="587"  # Puerto (587 con STARTTLS, 465 con SSL)
SMTP_USER="noreply@creador-ia.com"  # Tu dirección de email completa
SMTP_PASS="your_email_password_here"  # Contraseña de la cuenta de email
SMTP_SECURE="false"  # false para 587 (STARTTLS), true para 465 (SSL)

# ═══════════════════════════════════════════════════════════════════
# OPCIÓN 2: API - EnvíaloSimple Transaccional (SOLO SI NECESITAS ESCALAR)
# ═══════════════════════════════════════════════════════════════════
# Configuración para EMAIL_PROVIDER="api"
# Obtener en: https://app.envialosimple.com/ → API KEY
# Documentación: https://api-transaccional.envialosimple.email/

ENVIALOSIMPLE_API_KEY="your_envialosimple_api_key_here"  # Solo necesario si usas EMAIL_PROVIDER="api"

# ═══════════════════════════════════════════════════════════════════
# EMAIL SEQUENCES SYSTEM (Resend) - DEPRECADO
# ═══════════════════════════════════════════════════════════════════
# NOTA: Ya no se usa Resend, ahora usamos EnvíaloSimple (arriba)
# Mantener estas variables solo si necesitas migración
# RESEND_API_KEY="re_your_resend_api_key_here"
# RESEND_FROM_EMAIL="noreply@tudominio.com"
# RESEND_FROM_NAME="Circuit Prompt AI"

# ═══════════════════════════════════════════════════════════════════
# CHARACTER RESEARCH SYSTEM
# ═══════════════════════════════════════════════════════════════════
# El sistema usa Wikipedia API (100% GRATIS, sin límites) para buscar
# información biográfica real de personajes públicos/famosos.
# No requiere configuración adicional - funciona automáticamente.

# ═══════════════════════════════════════════════════════════════════
# DATABASE BACKUPS (Cloudflare R2)
# ═══════════════════════════════════════════════════════════════════
# Sistema automatizado de backups para PostgreSQL
# Free tier R2: 10GB storage, sin costos de egress
# Obtén credenciales en: https://dash.cloudflare.com/r2/overview

# Cloudflare R2 Configuration
R2_ENDPOINT="https://[account-id].r2.cloudflarestorage.com"  # Tu endpoint de R2
R2_ACCESS_KEY_ID="your_r2_access_key_id"  # Access key ID de R2
R2_SECRET_ACCESS_KEY="your_r2_secret_access_key"  # Secret access key de R2
R2_BUCKET_NAME="database-backups"  # Nombre del bucket (crear en Cloudflare dashboard)

# Backup Notifications (opcional pero recomendado)
SLACK_WEBHOOK_URL="https://hooks.slack.com/services/YOUR/WEBHOOK/URL"  # Para notificaciones en Slack
ADMIN_EMAIL="admin@tudominio.com"  # Email para notificaciones de backups (requiere RESEND_API_KEY)

# ═══════════════════════════════════════════════════════════════════
# SENTRY ERROR TRACKING & MONITORING
# ═══════════════════════════════════════════════════════════════════
# Sistema completo de error tracking, performance monitoring y user feedback
# Obtén tu DSN en: https://sentry.io/
# Free tier: 5,000 errors/mes, 10,000 transactions/mes, Session Replay incluido

# Sentry Configuration
NEXT_PUBLIC_SENTRY_DSN="https://your_key@o123456.ingest.sentry.io/7654321"  # Tu Sentry DSN
SENTRY_ORG="tu-organizacion"  # Tu organización en Sentry
SENTRY_PROJECT="circuit-prompt-ai"  # Nombre del proyecto en Sentry

# Auth Token (para upload de source maps - solo build/CI)
# Obtén en: https://sentry.io/settings/account/api/auth-tokens/
SENTRY_AUTH_TOKEN="your_sentry_auth_token_here"  # Scope: project:releases, project:write

# Release Tracking (automático con Git SHA)
NEXT_PUBLIC_SENTRY_RELEASE="${VERCEL_GIT_COMMIT_SHA}"  # En Vercel es automático
# Para otros entornos: Usa el SHA del commit actual

# Performance Monitoring
# Nota: Ajusta los sample rates en producción para controlar costos
# Los rates están configurados en los archivos sentry.*.config.ts:
#   - Development: 100% tracing, 100% replays
#   - Production: 10% tracing, 10% replays (ajustable)

# ═══════════════════════════════════════════════════════════════════
# CLOUD STORAGE (para producción con 1000+ usuarios)
# ═══════════════════════════════════════════════════════════════════
# IMPORTANTE: En desarrollo puedes usar "local", pero en PRODUCCIÓN
# DEBES usar "r2" o "s3" para escalabilidad

# Storage Provider: "local" | "r2" | "s3"
STORAGE_PROVIDER="local"  # Cambiar a "r2" o "s3" en producción

# Cloudflare R2 (RECOMENDADO - más barato, gratis egress)
# Crea una cuenta en: https://dash.cloudflare.com/sign-up
# 1. Dashboard → R2 → Create bucket: "creador-ia-avatars"
# 2. R2 → Manage R2 API Tokens → Create API Token
# 3. Copia las credenciales aquí:
S3_ENDPOINT="https://your-account-id.r2.cloudflarestorage.com"
S3_ACCESS_KEY_ID="your_r2_access_key_here"
S3_SECRET_ACCESS_KEY="your_r2_secret_key_here"
S3_BUCKET_NAME="creador-ia-avatars"
AWS_REGION="auto"

# AWS S3 (alternativa a R2)
# Si prefieres AWS S3 en lugar de R2:
# AWS_REGION="us-east-1"
# S3_ENDPOINT=""  # Dejar vacío para S3
# S3_ACCESS_KEY_ID="your_aws_access_key"
# S3_SECRET_ACCESS_KEY="your_aws_secret_key"
# S3_BUCKET_NAME="creador-ia-avatars"

# CDN URL (opcional pero recomendado para performance)
# Cloudflare R2: Settings → Public Access → Custom Domain
# AWS S3: Usar CloudFront
CDN_URL=""  # ej: https://cdn.tudominio.com

# NOTAS:
# - En desarrollo: "local" es suficiente
# - En producción: Cloudflare R2 cuesta ~$0.02/mes para 1,000 usuarios
# - Ver docs/CLOUD_STORAGE_SETUP.md para guía completa
