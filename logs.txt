lucas@fedora:/run/media/lucas/SSD/Proyectos/AI/creador-inteligencias$ npm run dev

> creador-inteligencias@0.1.0 dev
> NODE_OPTIONS='--max-old-space-size=8192' node server.js

[dotenv@17.2.3] injecting env (38) from .env -- tip: üì° add observability to secrets: https://dotenvx.com/ops
[@sentry/nextjs] Could not find `onRequestError` hook in instrumentation file. This indicates outdated configuration of the Sentry SDK. Use `Sentry.captureRequestError` to instrument the `onRequestError` hook: https://docs.sentry.io/platforms/javascript/guides/nextjs/manual-setup/#errors-from-nested-react-server-components
[@sentry/nextjs] It seems like you don't have a global error handler set up. It is recommended that you add a 'global-error.js' file with Sentry instrumentation so that React rendering errors are reported to Sentry. Read more: https://docs.sentry.io/platforms/javascript/guides/nextjs/manual-setup/#react-render-errors-in-app-router (you can suppress this warning by setting SENTRY_SUPPRESS_GLOBAL_ERROR_HANDLER_FILE_WARNING=1 as environment variable)
[@sentry/nextjs] DEPRECATION WARNING: It is recommended renaming your `sentry.client.config.ts` file, or moving its content to `instrumentation-client.ts`. When using Turbopack `sentry.client.config.ts` will no longer work. Read more about the `instrumentation-client.ts` file: https://nextjs.org/docs/app/api-reference/file-conventions/instrumentation-client
 ‚óã Compiling /instrumentation ...
 ‚úì Compiled /instrumentation in 2.9s (1144 modules)
[Server] Cron jobs disabled (set ENABLE_CRON_JOBS=true in production to enable)
[Socket.IO] WebSocket support disabled in development mode
[Socket.IO] Real-time features will use polling fallback
[Server] WebSocket support enabled
[Server] Ready on http://localhost:3000
<w> [webpack.cache.PackFileCacheStrategy] Serializing big strings (209kiB) impacts deserialization performance (consider using Buffer instead and decode when needed)
 ‚óã Compiling /middleware ...
 ‚úì Compiled /middleware in 1546ms (909 modules)
{ module: 'middleware' } {
  method: 'POST',
  pathname: '/api/webhooks/mercadopago',
  origin: null,
  requestId: 'c78fd4e8-58e6-4f63-912e-70e7e97d4678'
} 'Request received'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/api/webhooks/mercadopago',
  origin: null,
  requestId: '000f2b19-b25d-4e72-9440-1903c582cf45'
} 'Request received'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 ‚óã Compiling /api/webhooks/mercadopago ...
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/api/auth/session',
  origin: null,
  requestId: '04ea6914-ac71-4a4f-950e-a44a0e18dd9a'
} 'Request received'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
<w> [webpack.cache.PackFileCacheStrategy] Serializing big strings (209kiB) impacts deserialization performance (consider using Buffer instead and decode when needed)
<w> [webpack.cache.PackFileCacheStrategy] Serializing big strings (185kiB) impacts deserialization performance (consider using Buffer instead and decode when needed)
<w> [webpack.cache.PackFileCacheStrategy] Serializing big strings (128kiB) impacts deserialization performance (consider using Buffer instead and decode when needed)
<w> [webpack.cache.PackFileCacheStrategy] Serializing big strings (139kiB) impacts deserialization performance (consider using Buffer instead and decode when needed)
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/api/auth/session',
  origin: null,
  requestId: 'daad499c-0d1d-44cd-803b-4f550ebc4aff'
} 'Request received'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/login',
  origin: null,
  requestId: 'a96bb0f4-3b26-458b-84dd-8bdba6fb93b6'
} 'Request received'
{ module: 'middleware' } { requestId: 'unknown' } 'Starting locale detection'
{ module: 'middleware' } { locale: 'es', source: 'cookie', requestId: 'unknown' } 'Locale detected from cookie (user preference)'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/api/auth/session',
  origin: null,
  requestId: 'eb9142f4-3d9f-4bd6-8d09-ad4cdfe6a36d'
} 'Request received'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 ‚úì Compiled /login in 16.4s (3859 modules)
 GET /api/webhooks/mercadopago 405 in 17178ms
 POST /api/webhooks/mercadopago 401 in 17193ms
 ‚®Ø uncaughtException: [Error: Cannot find module '/run/media/lucas/SSD/Proyectos/AI/creador-inteligencias/.next/server/vendor-chunks/lib/worker.js'] {
  code: 'MODULE_NOT_FOUND',
  requireStack: []
}
 ‚®Ø uncaughtException:  [Error: Cannot find module '/run/media/lucas/SSD/Proyectos/AI/creador-inteligencias/.next/server/vendor-chunks/lib/worker.js'] {
  code: 'MODULE_NOT_FOUND',
  requireStack: []
}
 ‚®Ø uncaughtException: [Error: the worker thread exited]
 ‚®Ø uncaughtException:  [Error: the worker thread exited]
 GET /login?callbackUrl=%2F 200 in 15146ms
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/api/onboarding/progress',
  origin: null,
  requestId: 'edc8d0f6-0727-41d8-8515-3d875c791718'
} 'Request received'
{ module: 'middleware' } { isPublicRoute: false } 'Route type determined'
[JWT] Extracting token from header: NULL
[JWT] ‚ùå No auth header provided
{ module: 'middleware' } 'No JWT token found in Authorization header'
{ module: 'middleware' } { pathname: '/api/onboarding/progress' } 'Unauthorized access attempt - redirecting to login'
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/api/auth/session',
  origin: null,
  requestId: '81b3ec76-afb5-4fe6-a738-82acb6fad958'
} 'Request received'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 GET /api/auth/session 200 in 16512ms
 GET /api/auth/session 200 in 16517ms
 GET /api/auth/session 200 in 279ms
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/api/auth/session',
  origin: null,
  requestId: '935e0a10-cce2-462d-8519-57ffcfc2b661'
} 'Request received'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/api/auth/session',
  origin: null,
  requestId: 'd72f6372-beff-4a60-a3c9-dd887f3ff007'
} 'Request received'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 GET /api/auth/session 200 in 99ms
 GET /api/auth/session 200 in 118ms
{ module: 'middleware' } {
  method: 'POST',
  pathname: '/api/onboarding/progress',
  origin: 'http://localhost:3000',
  requestId: 'b07c3b4a-ac62-4b9e-b298-b93fb69e040f'
} 'Request received'
{ module: 'middleware' } { isPublicRoute: false } 'Route type determined'
[JWT] Extracting token from header: NULL
[JWT] ‚ùå No auth header provided
{ module: 'middleware' } 'No JWT token found in Authorization header'
{ module: 'middleware' } { pathname: '/api/onboarding/progress' } 'Unauthorized access attempt - redirecting to login'
{ module: 'middleware' } { origin: 'http://localhost:3000' } 'CORS headers added for allowed origin'
{ module: 'middleware' } {
  method: 'OPTIONS',
  pathname: '/login',
  origin: 'http://localhost:3000',
  requestId: '858ae891-5119-4641-82a1-4e261f680683'
} 'Request received'
{ module: 'middleware' } { requestId: 'unknown' } 'Starting locale detection'
{ module: 'middleware' } 'No country detected from IP headers'
{ module: 'middleware' } { acceptLanguage: 'es-AR,es;q=0.8,en-US;q=0.5,en;q=0.3' } 'Parsing Accept-Language header'
{ module: 'middleware' } { detectedLocale: 'es' } 'Language detected from Accept-Language'
{ module: 'middleware' } { locale: 'es', source: 'accept-language', requestId: 'unknown' } 'Locale detected from Accept-Language header'
{ module: 'middleware' } { locale: 'es', requestId: '858ae891-5119-4641-82a1-4e261f680683' } 'Locale detected (will be saved in cookie)'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Handling OPTIONS preflight request'
{ module: 'middleware' } {
  method: 'POST',
  pathname: '/login',
  origin: 'http://localhost:3000',
  requestId: 'e87f16b9-7c23-45bc-9f1b-0fc197dafeec'
} 'Request received'
{ module: 'middleware' } { requestId: 'unknown' } 'Starting locale detection'
{ module: 'middleware' } 'No country detected from IP headers'
{ module: 'middleware' } { acceptLanguage: 'es-AR,es;q=0.8,en-US;q=0.5,en;q=0.3' } 'Parsing Accept-Language header'
{ module: 'middleware' } { detectedLocale: 'es' } 'Language detected from Accept-Language'
{ module: 'middleware' } { locale: 'es', source: 'accept-language', requestId: 'unknown' } 'Locale detected from Accept-Language header'
{ module: 'middleware' } { locale: 'es', requestId: 'e87f16b9-7c23-45bc-9f1b-0fc197dafeec' } 'Locale detected (will be saved in cookie)'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
{ module: 'middleware' } { origin: 'http://localhost:3000' } 'CORS headers added for allowed origin'
{ module: 'middleware' } { locale: 'es' } 'Locale cookie saved'
 POST /login?callbackUrl=%2Fapi%2Fonboarding%2Fprogress 200 in 146ms
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/login',
  origin: null,
  requestId: '6e044da4-267e-4178-8cdd-95d4970ab862'
} 'Request received'
{ module: 'middleware' } { requestId: 'unknown' } 'Starting locale detection'
{ module: 'middleware' } { locale: 'es', source: 'cookie', requestId: 'unknown' } 'Locale detected from cookie (user preference)'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 GET /login?callbackUrl=%2F 200 in 77ms
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/api/onboarding/progress',
  origin: null,
  requestId: '98755a1c-c7a6-4d56-8e69-0e78348ba878'
} 'Request received'
{ module: 'middleware' } { isPublicRoute: false } 'Route type determined'
[JWT] Extracting token from header: NULL
[JWT] ‚ùå No auth header provided
{ module: 'middleware' } 'No JWT token found in Authorization header'
{ module: 'middleware' } { pathname: '/api/onboarding/progress' } 'Unauthorized access attempt - redirecting to login'
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/api/auth/session',
  origin: null,
  requestId: '50101b7b-dc31-4c77-94c0-44ec5f7717d6'
} 'Request received'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 GET /api/auth/session 200 in 78ms
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/api/auth/session',
  origin: null,
  requestId: '378d2387-e18c-468c-8457-6fe571f55e0b'
} 'Request received'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/api/auth/session',
  origin: null,
  requestId: 'f7ef06d7-0ed8-42e1-bfbc-75c106c0b75c'
} 'Request received'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 GET /api/auth/session 200 in 128ms
 GET /api/auth/session 200 in 164ms
{ module: 'middleware' } {
  method: 'POST',
  pathname: '/api/onboarding/progress',
  origin: 'http://localhost:3000',
  requestId: 'cc3c08d2-6485-4a8f-8a00-98483c1dcc79'
} 'Request received'
{ module: 'middleware' } { isPublicRoute: false } 'Route type determined'
[JWT] Extracting token from header: NULL
[JWT] ‚ùå No auth header provided
{ module: 'middleware' } 'No JWT token found in Authorization header'
{ module: 'middleware' } { pathname: '/api/onboarding/progress' } 'Unauthorized access attempt - redirecting to login'
{ module: 'middleware' } { origin: 'http://localhost:3000' } 'CORS headers added for allowed origin'
{ module: 'middleware' } {
  method: 'OPTIONS',
  pathname: '/login',
  origin: 'http://localhost:3000',
  requestId: '12930909-abd8-4a15-ba05-ce6c62baf487'
} 'Request received'
{ module: 'middleware' } { requestId: 'unknown' } 'Starting locale detection'
{ module: 'middleware' } 'No country detected from IP headers'
{ module: 'middleware' } { acceptLanguage: 'es-AR,es;q=0.8,en-US;q=0.5,en;q=0.3' } 'Parsing Accept-Language header'
{ module: 'middleware' } { detectedLocale: 'es' } 'Language detected from Accept-Language'
{ module: 'middleware' } { locale: 'es', source: 'accept-language', requestId: 'unknown' } 'Locale detected from Accept-Language header'
{ module: 'middleware' } { locale: 'es', requestId: '12930909-abd8-4a15-ba05-ce6c62baf487' } 'Locale detected (will be saved in cookie)'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Handling OPTIONS preflight request'
{ module: 'middleware' } {
  method: 'POST',
  pathname: '/login',
  origin: 'http://localhost:3000',
  requestId: '656b90b7-3631-4601-9896-e148b64d984e'
} 'Request received'
{ module: 'middleware' } { requestId: 'unknown' } 'Starting locale detection'
{ module: 'middleware' } 'No country detected from IP headers'
{ module: 'middleware' } { acceptLanguage: 'es-AR,es;q=0.8,en-US;q=0.5,en;q=0.3' } 'Parsing Accept-Language header'
{ module: 'middleware' } { detectedLocale: 'es' } 'Language detected from Accept-Language'
{ module: 'middleware' } { locale: 'es', source: 'accept-language', requestId: 'unknown' } 'Locale detected from Accept-Language header'
{ module: 'middleware' } { locale: 'es', requestId: '656b90b7-3631-4601-9896-e148b64d984e' } 'Locale detected (will be saved in cookie)'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
{ module: 'middleware' } { origin: 'http://localhost:3000' } 'CORS headers added for allowed origin'
{ module: 'middleware' } { locale: 'es' } 'Locale cookie saved'
 POST /login?callbackUrl=%2Fapi%2Fonboarding%2Fprogress 200 in 79ms
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/login',
  origin: null,
  requestId: '1fc6e1d5-5013-48f1-a711-3067be297f81'
} 'Request received'
{ module: 'middleware' } { requestId: 'unknown' } 'Starting locale detection'
{ module: 'middleware' } 'No country detected from IP headers'
{ module: 'middleware' } { acceptLanguage: 'es-AR,es;q=0.8,en-US;q=0.5,en;q=0.3' } 'Parsing Accept-Language header'
{ module: 'middleware' } { detectedLocale: 'es' } 'Language detected from Accept-Language'
{ module: 'middleware' } { locale: 'es', source: 'accept-language', requestId: 'unknown' } 'Locale detected from Accept-Language header'
{ module: 'middleware' } { locale: 'es', requestId: '1fc6e1d5-5013-48f1-a711-3067be297f81' } 'Locale detected (will be saved in cookie)'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
{ module: 'middleware' } { locale: 'es' } 'Locale cookie saved'
 GET /login?callbackUrl=%2F 200 in 77ms
 ‚úì Compiled in 1855ms (1157 modules)
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/login',
  origin: null,
  requestId: 'e75c2c26-67f1-4e1f-8801-a8aecf221430'
} 'Request received'
{ module: 'middleware' } { requestId: 'unknown' } 'Starting locale detection'
{ module: 'middleware' } { locale: 'es', source: 'cookie', requestId: 'unknown' } 'Locale detected from cookie (user preference)'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 GET /login?callbackUrl=%2F 200 in 89ms
{ module: 'middleware' } {
  method: 'POST',
  pathname: '/api/webhooks/mercadopago',
  origin: null,
  requestId: '2ef3b57f-3df3-4970-8475-35ab9177b716'
} 'Request received'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 ‚®Ø uncaughtException: Error: the worker has exited
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:91:73)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException:  Error: the worker has exited
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:91:73)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException: Error: the worker has exited
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:110:73)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException:  Error: the worker has exited
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:110:73)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException: Error: the worker has exited
    at handleSubscriptionEvent (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:253:73)
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:122:23)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException:  Error: the worker has exited
    at handleSubscriptionEvent (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:253:73)
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:122:23)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException: Error: the worker has exited
    at handleSubscriptionEvent (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:259:73)
    at async POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:122:17)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException:  Error: the worker has exited
    at handleSubscriptionEvent (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:259:73)
    at async POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:122:17)
    at async Server.<anonymous> (server.js:25:7)
prisma:query UPDATE "public"."User" SET "plan" = $1, "updatedAt" = $2 WHERE ("public"."User"."id" = $3 AND 1=1) RETURNING "public"."User"."id", "public"."User"."email", "public"."User"."emailVerified", "public"."User"."name", "public"."User"."image", "public"."User"."password", "public"."User"."plan", "public"."User"."mercadopagoCustomerId", "public"."User"."apiKey", "public"."User"."location", "public"."User"."metadata", "public"."User"."imageUploadsThisMonth", "public"."User"."imageUploadLimit", "public"."User"."imageUploadResetDate", "public"."User"."createdAt", "public"."User"."updatedAt"
prisma:error 
Invalid `prisma.user.update()` invocation:


An operation failed because it depends on one or more records that were required but not found. No record was found for an update.
 POST /api/webhooks/mercadopago 200 in 788ms
 ‚®Ø uncaughtException: Error: the worker has exited
    at handleSubscriptionEvent (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:266:73)
    at async POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:122:17)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException:  Error: the worker has exited
    at handleSubscriptionEvent (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:266:73)
    at async POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:122:17)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException: Error: the worker has exited
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:132:73)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException:  Error: the worker has exited
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:132:73)
    at async Server.<anonymous> (server.js:25:7)
 ‚úì Compiled in 1359ms (1157 modules)
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/login',
  origin: null,
  requestId: '07f03799-6ad8-4db2-a949-0aebbac943a1'
} 'Request received'
{ module: 'middleware' } { requestId: 'unknown' } 'Starting locale detection'
{ module: 'middleware' } { locale: 'es', source: 'cookie', requestId: 'unknown' } 'Locale detected from cookie (user preference)'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 GET /login?callbackUrl=%2F 200 in 63ms
 ‚úì Compiled in 1660ms (1157 modules)
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/login',
  origin: null,
  requestId: 'f2c6e965-73c0-4e8a-968c-fa4d5cd35132'
} 'Request received'
{ module: 'middleware' } { requestId: 'unknown' } 'Starting locale detection'
{ module: 'middleware' } { locale: 'es', source: 'cookie', requestId: 'unknown' } 'Locale detected from cookie (user preference)'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 GET /login?callbackUrl=%2F 200 in 59ms
 ‚úì Compiled in 1311ms (1157 modules)
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/login',
  origin: null,
  requestId: '7019649d-7006-4169-bac1-b96b7dfc9c17'
} 'Request received'
{ module: 'middleware' } { requestId: 'unknown' } 'Starting locale detection'
{ module: 'middleware' } { locale: 'es', source: 'cookie', requestId: 'unknown' } 'Locale detected from cookie (user preference)'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 GET /login?callbackUrl=%2F 200 in 62ms
 ‚úì Compiled in 1682ms (1157 modules)
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/login',
  origin: null,
  requestId: '0b783a7d-e38a-440f-b364-243025e591f8'
} 'Request received'
{ module: 'middleware' } { requestId: 'unknown' } 'Starting locale detection'
{ module: 'middleware' } { locale: 'es', source: 'cookie', requestId: 'unknown' } 'Locale detected from cookie (user preference)'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 GET /login?callbackUrl=%2F 200 in 72ms
{ module: 'middleware' } {
  method: 'POST',
  pathname: '/api/webhooks/mercadopago',
  origin: null,
  requestId: 'ceaff6fe-42a4-44fc-a36d-1dfea510f8b1'
} 'Request received'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 ‚®Ø uncaughtException: Error: the worker has exited
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:91:73)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException:  Error: the worker has exited
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:91:73)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException: Error: the worker has exited
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:110:73)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException:  Error: the worker has exited
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:110:73)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException: Error: the worker has exited
    at handleSubscriptionEvent (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:253:73)
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:122:23)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException:  Error: the worker has exited
    at handleSubscriptionEvent (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:253:73)
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:122:23)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException: Error: the worker has exited
    at handleSubscriptionEvent (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:259:73)
    at async POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:122:17)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException:  Error: the worker has exited
    at handleSubscriptionEvent (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:259:73)
    at async POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:122:17)
    at async Server.<anonymous> (server.js:25:7)
prisma:query SELECT 1
prisma:query UPDATE "public"."User" SET "plan" = $1, "updatedAt" = $2 WHERE ("public"."User"."id" = $3 AND 1=1) RETURNING "public"."User"."id", "public"."User"."email", "public"."User"."emailVerified", "public"."User"."name", "public"."User"."image", "public"."User"."password", "public"."User"."plan", "public"."User"."mercadopagoCustomerId", "public"."User"."apiKey", "public"."User"."location", "public"."User"."metadata", "public"."User"."imageUploadsThisMonth", "public"."User"."imageUploadLimit", "public"."User"."imageUploadResetDate", "public"."User"."createdAt", "public"."User"."updatedAt"
prisma:query INSERT INTO "public"."Subscription" ("id","userId","mercadopagoPreapprovalId","status","currentPeriodStart","currentPeriodEnd","cancelAtPeriodEnd","createdAt","updatedAt") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9) ON CONFLICT ("mercadopagoPreapprovalId") DO UPDATE SET "status" = $10, "currentPeriodEnd" = $11, "canceledAt" = $12, "updatedAt" = $13 WHERE ("public"."Subscription"."mercadopagoPreapprovalId" = $14 AND 1=1) RETURNING "public"."Subscription"."id", "public"."Subscription"."userId", "public"."Subscription"."mercadopagoPreapprovalId", "public"."Subscription"."status", "public"."Subscription"."currentPeriodStart", "public"."Subscription"."currentPeriodEnd", "public"."Subscription"."cancelAtPeriodEnd", "public"."Subscription"."trialStart", "public"."Subscription"."trialEnd", "public"."Subscription"."canceledAt", "public"."Subscription"."metadata", "public"."Subscription"."createdAt", "public"."Subscription"."updatedAt"
 POST /api/webhooks/mercadopago 200 in 711ms
 ‚®Ø uncaughtException: Error: the worker has exited
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:132:73)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException:  Error: the worker has exited
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:132:73)
    at async Server.<anonymous> (server.js:25:7)
 ‚úì Compiled in 1666ms (1157 modules)
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/login',
  origin: null,
  requestId: '105828c9-5ae0-48be-b274-c0c48a59114d'
} 'Request received'
{ module: 'middleware' } { requestId: 'unknown' } 'Starting locale detection'
{ module: 'middleware' } { locale: 'es', source: 'cookie', requestId: 'unknown' } 'Locale detected from cookie (user preference)'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 GET /login?callbackUrl=%2F 200 in 72ms
{ module: 'middleware' } {
  method: 'HEAD',
  pathname: '/api/webhooks/mercadopago',
  origin: null,
  requestId: 'da4ecf4f-76f4-47c8-b775-ac8b0b25db9c'
} 'Request received'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 HEAD /api/webhooks/mercadopago 405 in 45ms
 ‚úì Compiled in 1390ms (1157 modules)
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/login',
  origin: null,
  requestId: 'fa99081d-d671-4191-8e1d-95b7a5b8d86c'
} 'Request received'
{ module: 'middleware' } { requestId: 'unknown' } 'Starting locale detection'
{ module: 'middleware' } { locale: 'es', source: 'cookie', requestId: 'unknown' } 'Locale detected from cookie (user preference)'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 GET /login?callbackUrl=%2F 200 in 57ms
 ‚úì Compiled in 1594ms (1157 modules)
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/login',
  origin: null,
  requestId: 'e1624f0e-1df2-44ac-b4bf-702f432848f2'
} 'Request received'
{ module: 'middleware' } { requestId: 'unknown' } 'Starting locale detection'
{ module: 'middleware' } { locale: 'es', source: 'cookie', requestId: 'unknown' } 'Locale detected from cookie (user preference)'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 GET /login?callbackUrl=%2F 200 in 61ms
{ module: 'middleware' } {
  method: 'POST',
  pathname: '/api/webhooks/mercadopago',
  origin: null,
  requestId: '884bd155-e579-4f06-8e86-f1f543f19f6b'
} 'Request received'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 POST /api/webhooks/mercadopago 401 in 68ms
 ‚®Ø uncaughtException: Error: the worker has exited
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:91:73)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException:  Error: the worker has exited
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:91:73)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException: Error: the worker has exited
    at verifyMercadoPagoSignature (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:42:73)
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:93:14)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException:  Error: the worker has exited
    at verifyMercadoPagoSignature (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:42:73)
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:93:14)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException: Error: the worker has exited
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:94:77)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException:  Error: the worker has exited
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:94:77)
    at async Server.<anonymous> (server.js:25:7)
 ‚úì Compiled in 3.2s (3713 modules)
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/login',
  origin: null,
  requestId: '5899fddb-433f-4f84-866e-ff9c131117c0'
} 'Request received'
{ module: 'middleware' } { requestId: 'unknown' } 'Starting locale detection'
{ module: 'middleware' } { locale: 'es', source: 'cookie', requestId: 'unknown' } 'Locale detected from cookie (user preference)'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 GET /login?callbackUrl=%2F 200 in 322ms
 ‚úì Compiled in 1804ms (1157 modules)
{ module: 'middleware' } {
  method: 'GET',
  pathname: '/login',
  origin: null,
  requestId: '386fd1b4-b847-497c-8db5-23cb04e57315'
} 'Request received'
{ module: 'middleware' } { requestId: 'unknown' } 'Starting locale detection'
{ module: 'middleware' } { locale: 'es', source: 'cookie', requestId: 'unknown' } 'Locale detected from cookie (user preference)'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 GET /login?callbackUrl=%2F 200 in 70ms
{ module: 'middleware' } {
  method: 'POST',
  pathname: '/api/webhooks/mercadopago',
  origin: null,
  requestId: '6fd475bb-9b50-40be-998f-c92844698387'
} 'Request received'
{ module: 'middleware' } { isPublicRoute: true } 'Route type determined'
{ module: 'middleware' } 'Public route - allowing without authentication'
 ‚®Ø uncaughtException: [Error: Cannot find module '/run/media/lucas/SSD/Proyectos/AI/creador-inteligencias/.next/server/vendor-chunks/lib/worker.js'] {
  code: 'MODULE_NOT_FOUND',
  requireStack: []
}
 ‚®Ø uncaughtException:  [Error: Cannot find module '/run/media/lucas/SSD/Proyectos/AI/creador-inteligencias/.next/server/vendor-chunks/lib/worker.js'] {
  code: 'MODULE_NOT_FOUND',
  requireStack: []
}
 ‚®Ø uncaughtException: [Error: the worker thread exited]
 ‚®Ø uncaughtException:  [Error: the worker thread exited]
 POST /api/webhooks/mercadopago?data.id=123456&type=subscription_authorized_payment 200 in 1033ms
 ‚®Ø uncaughtException: Error: the worker has exited
    at handleSubscriptionEvent (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:276:73)
    at async POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:132:17)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException:  Error: the worker has exited
    at handleSubscriptionEvent (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:276:73)
    at async POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:132:17)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException: Error: the worker has exited
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:142:73)
    at async Server.<anonymous> (server.js:25:7)
 ‚®Ø uncaughtException:  Error: the worker has exited
    at POST$1 (webpack-internal:///(rsc)/./app/api/webhooks/mercadopago/route.ts:142:73)
    at async Server.<anonymous> (server.js:25:7)